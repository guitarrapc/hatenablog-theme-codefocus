# ライトテーマ背景色・コードブロック背景色の見直し検討

本ドキュメントは、現在のライトテーマの背景色（`--background`）およびコードブロック背景色（`--bg-code`）を見直すための検討資料です。`light-theme-accessibility-spec.md` のWCAGガイドラインを踏まえ、複数の改善案を比較・検討します。

---

## 1. 現状分析

### 1.1 現在のライトテーマ配色

| トークン | SCSS変数 | 色コード | 用途 |
|----------|----------|----------|------|
| `--background` | `$light-background` → `$color-gray-1000` | `#ffffff` | ページ全体の背景 |
| `--bg-light` | `$light-bg-light` → `$color-gray-900` | `#f5f5f5` | サーフェス背景（カード等） |
| `--bg-code` | `$light-bg-code` → `$color-code-dark-100` | `#1a2638` | コードブロック背景（暗いIDE風） |
| `--bg-code-light` | `$light-bg-code-light` → `$color-code-dark-200` | `#1a2737` | コードブロックボタン背景 |
| `--bg-span` | `$light-bg-span` → `$color-alpha-blue-10` | `#215aa012` | インラインコード背景 |
| `--bg-semi-transparent` | `$light-background-semi-transparent` | `rgba(255,255,255,0.95)` | 背景画像対応 |
| `--text-body` | `$light-text-body` → `$color-gray-100` | `#08131a` | 本文テキスト |
| `--text-header` | `$light-text-header` → `$color-gray-200` | `#333333` | 見出しテキスト |
| `--link` | `$light-link` → `$color-blue-500` | `#0f83fd` | リンク色 |

**設計の出自**: ページ背景は純白、コードブロック背景は暗いIDE風の濃紺。テーマ名「CodeFocus」に合致する「白地にコードが浮かぶ」デザイン。

### 1.2 現状の問題点

#### 問題1: 背景色が純白 (#ffffff)

`light-theme-accessibility-spec.md` §3.1 では **「背景は純白(#fff)にしない。`#FAFAFA` や `#F7F7F5` のような少し落ち着いた白にする」** と記載。

純白は以下の問題を引き起こしうる:
- **眩しさ・グレア**: 明るいモニターや日中の使用で目への刺激が強い
- **読み疲れ**: 長時間の閲覧で眼精疲労が増加
- **コントラスト過剰**: 文字色との対比が強すぎてハレーション（文字がにじんで見える現象）が起きやすい

ただし、**業界の主要サービスの大半（GitHub, VS Code, JetBrains, Zenn, Qiita, Medium）は純白を採用**しているのが現実であり、純白が即座に問題であるとは言い切れない。

#### 問題2: テキストとのコントラストが過剰

| 組み合わせ | コントラスト比 | 評価 |
|-----------|---------------|------|
| `#ffffff` vs `#08131a`（本文） | **18.78:1** | WCAG AA (4.5:1) を大幅超過 |
| `#ffffff` vs `#333333`（見出し） | **12.63:1** | AAA超過 |

コントラスト比が高すぎると、以下の問題が生じうる:
- **ハレーション**: 白い背景に濃い文字が「にじんで」見える。乱視のユーザーに顕著
- **目の疲労**: 高コントラストの長時間読書は眼精疲労を増加させる

`light-theme-accessibility-spec.md` §3.2 では **「本文文字色も純黒(#000)にしない。`#1B1B1B` のようなほぼ黒にする」** と推奨。

現在の `#08131a` は相対輝度 0.0059 であり、`#1B1B1B`（相対輝度 0.0099）よりさらに暗く、純黒 `#000000`（相対輝度 0）に近い。

#### 問題3: サーフェス階層の区別がつきにくい

```
背景 #ffffff (L=1.000) vs bg-light #f5f5f5 (L=0.913)
コントラスト比: 1.09:1
```

1.09:1は人間の知覚閾値ギリギリであり、bg-light を使ったサーフェス階層（カード背景、ボタンホバー等）の区別がほぼつかない。

#### 問題4: リンク色のコントラスト不足（※本検討の主題外）

| 組み合わせ | コントラスト比 | 評価 |
|-----------|---------------|------|
| `#ffffff` vs `#0f83fd`（リンク） | **3.69:1** | WCAG AA (4.5:1) **不合格** ❌ |

リンク色がWCAG AA基準を満たしていない。`light-theme-accessibility-spec.md` の推奨値 `#0B57D0` はコントラスト比 8.59:1 であり、大幅に改善される。

> NOTE: リンク色の変更は本検討の主題ではないが、背景色の変更と共に検討する価値がある。

### 1.3 ダークモードとの対比

| 要素 | ライトモード | ダークモード |
|------|-------------|-------------|
| 背景 vs テキスト | `#ffffff` vs `#08131a` → **18.78:1** | `#1a1f27` vs `#e6edf3` → **14.00:1** |
| 背景 vs コードBG | `#ffffff` vs `#1a2638` → **15.24:1** | `#1a1f27` vs `#272f3b` → **1.226:1** |
| コードブロックの視認性 | **極めて高い**（白地に濃紺） | 良好（暗い面に少し明るい面） |

ライトモードではダークモードと異なり、コードブロックが暗い背景で**明確に区別される**。これは「CodeFocus」のテーマアイデンティティとして強力な武器となっている。

> ダークモードは `dark-theme-color-review.md` の案Bで改善済み。ライトモードの改善もそれに続く検討。

---

## 2. 参考テーマの比較分析

### 2.1 主要ライトテーマの背景色

| テーマ/サービス | ページ背景 | コードBG | コード方式 | テキスト色 | テキストCR |
|---------------|-----------|---------|-----------|----------|-----------|
| **現在のCodeFocus** | `#ffffff` | `#1a2638` | **暗いIDE風** | `#08131a` | 18.78:1 |
| GitHub Light | `#ffffff` | `#f6f8fa` | ライトグレー | `#1f2328` | 16.15:1 |
| VS Code Light+ | `#ffffff` | `#ffffff` | 白（構文色のみ） | `#000000` | 21.00:1 |
| VS Code Light Modern | `#ffffff`(エディタ) / `#f8f8f8`(パネル) | `#f8f8f8` | ライトグレー | `#3b3b3b` | 10.69:1 |
| JetBrains Light | `#ffffff` | `#f7f8fa` | ライトグレー | `#080808` | 19.68:1 |
| Zenn | `#ffffff` | `~#1e1e1e` (構文有) / `#f1f3f5` (構文無) | **混合** | — | — |
| Qiita | `#ffffff` | `~#364549` (構文有) / `#f7f7f7` (構文無) | **混合** | — | — |
| dev.to | `#f5f5f5`(ページ) / `#ffffff`(記事) | 暗い背景（構文テーマ依存） | **暗いIDE風** | — | — |
| Medium | `#ffffff` | `#f2f2f2` | ライトグレー | `#242424` | 15.11:1 |
| Material Design 3 | ~`#fcfcff` (Tone 98) | — | — | — | — |
| `light-theme-accessibility-spec.md` 推奨 | `#FAFAFA` | `#F6F8FA` | ライトグレー | `#1B1B1B` | 17.27:1 |

### 2.2 コードブロック背景のアプローチ比較

| アプローチ | 採用サービス | ページBGとのCR | 特徴 |
|-----------|------------|---------------|------|
| A: ライトグレー (`#f6f8fa`等) | GitHub, VS Code, JetBrains, Medium | 1.06〜1.19:1 | 控えめ。ボーダーや余白で区別 |
| **B: 暗いIDE風 (`#1a2638`等)** | **CodeFocus**, Zenn, Qiita, dev.to | **15〜16:1** | 目立つ。コードに焦点が当たる |
| C: ティント付きライト | 稀 | — | ごく少数 |

**分析の示唆**:

1. **純白の背景は業界標準**: GitHub, VS Code, JetBrains, Zenn, Qiita, Medium すべて主要リーディング領域は `#ffffff`。
2. **オフホワイト (`#f5f5f5`〜`#f8f8f8`)** はセカンダリサーフェス用（VS Codeのサイドパネル、dev.toのページ外枠）。Material Design 3 のみ Tone 98を推奨。
3. **暗いコードブロックは日本の技術ブログで一般的**: Zenn, Qiita もCodeFocusと同様に構文ハイライト付きコードブロックに暗い背景を採用。
4. **CodeFocusの暗いコードBGは強みである**: テーマ名「CodeFocus」にふさわしく、ライトモードでコードが明確に際立つ。この点を軽率に変更すべきではない。

---

## 3. 背景色変更のインパクト分析

### 3.1 候補背景色 vs 各要素のコントラスト

| 候補背景 | vs テキスト `#08131a` | vs コードBG `#1a2638` | vs bg-light `#f5f5f5` | 評価 |
|---------|---------------------|-----------------------|----------------------|------|
| `#ffffff` (現在) | 18.78:1 AAA ✅ | 15.24:1 AAA ✅ | 1.09:1 | 過剰 / bg-light判別困難 |
| `#fefefe` | 18.62:1 AAA ✅ | 15.11:1 AAA ✅ | 1.08:1 | 変化ほぼなし |
| `#fafafa` | 17.99:1 AAA ✅ | 14.60:1 AAA ✅ | 1.04:1 ⚠️ | テキストCR緩和 / bg-light崩壊 |
| `#f8f8f8` | 17.68:1 AAA ✅ | 14.35:1 AAA ✅ | 1.03:1 ⚠️ | 同上 |
| `#f7f7f5` | 17.51:1 AAA ✅ | 14.20:1 AAA ✅ | 1.02:1 ❌ | ウォームトーン / bg-light完全崩壊 |
| `#f5f5f5` | 17.22:1 AAA ✅ | 13.98:1 AAA ✅ | 1.00:1 ❌ | bg-lightと同一 |

**重要な知見**:
- **テキスト可読性**: どの候補も AAA を余裕で維持。背景をオフホワイトにしても可読性への悪影響はない。
- **コードブロック視認性**: 暗いコードBG (`#1a2638`) による15:1前後の強いコントラストは、背景がオフホワイトになっても十分に維持される。
- **サーフェス階層の崩壊**: 背景を `#fafafa` 以下にすると、現在の bg-light `#f5f5f5` との区別が消失する。**bg-lightの色を連動して調整する必要がある**。

### 3.2 bg-light の連動調整

背景色を変更する場合、bg-light も連動して暗くする必要がある。

| ページBG | 必要なbg-light | 階層コントラスト | 例 |
|---------|-------------|----------------|-----|
| `#ffffff` | `#f5f5f5` | 1.09:1（現在） | 最低限知覚可能 |
| `#fafafa` | `#efefef` | 1.10:1 | `#f5f5f5`→`#efefef` に変更が必要 |
| `#f8f8f8` | `#ececec` | 1.12:1 | さらに暗く |
| `#f7f7f5` | `#eaeae6` | 1.12:1 | ウォームティント連動 |

### 3.3 テキスト色の見直し（参考）

背景色の変更とは独立して、本文テキスト色の見直しも検討に値する。

| テキスト色 | bg `#ffffff` | bg `#fafafa` | bg `#f8f8f8` | 参考 |
|-----------|-------------|-------------|-------------|------|
| `#08131a`（現在） | 18.78:1 | 17.99:1 | 17.68:1 | 過剰（ほぼ純黒） |
| `#1B1B1B`（spec推奨） | 17.27:1 | 16.54:1 | 16.27:1 | やや高い |
| `#242424` (Medium風) | 15.11:1 | 14.47:1 | 14.24:1 | バランス良 |
| `#333333`（見出し色） | 12.63:1 | 12.10:1 | 11.91:1 | 快適〜やや低い |
| `#3b3b3b` (VS Code Modern風) | 10.69:1 | 10.24:1 | 10.08:1 | 最も快適 |

**推奨範囲**: ライトテーマの本文テキストは **12:1〜17:1** が読みやすいバランスとされる。現在の18.78:1はやや過剰。

> NOTE: テキスト色の変更は本検討の主題ではないが、背景色の変更と密接に関連するため参考として記載。

---

## 4. コードブロック背景色の検討

### 4.1 現在のアプローチの評価

CodeFocusの **暗いIDE風コードブロック (`#1a2638`)** は:

**強み**:
- テーマ名「CodeFocus」にふさわしい、コードを際立たせるデザイン
- ページBGとのコントラスト 15.24:1 で極めて視認性が高い
- 日本の技術ブログ（Zenn, Qiita）と同じアプローチで違和感がない
- ダークモードのコードブロックと根本的に異なるアプローチ（暗いBGは「ライトテーマのコードBG」として確立している）

**懸念**:
- `--bg-code` と `--bg-code-light` が `#1a2638` と `#1a2737` で、差が極めて小さい（コントラスト比 ~1.01:1）
- コードブロックボタン（コピー/折り返し）がコードBGとほぼ同色で、背景との区別がしにくい

### 4.2 コードBGを変更する場合の候補

「暗いIDE風」を維持したまま、微調整する方向で検討する。

| 候補 | 色コード | vs ページBG `#fff` | vs テキスト `#fff` (コード内) | 特徴 |
|------|---------|-------------------|----------------------------|------|
| 現在 | `#1a2638` | 15.24:1 | 15.24:1 | 暗い濃紺 |
| やや明るく | `#1e2d42` | 13.77:1 | 13.77:1 | 青みをやや強調 |
| Qiita寄り | `#2d3748` | 9.67:1 | 9.67:1 | よりソフト |
| さらに明るく | `#334155` | 7.97:1 | 7.97:1 | Slate系 |

「ライトグレー方式」に切り替える場合:

| 候補 | 色コード | vs ページBG `#fff` | vs テキスト `#08131a` | 特徴 |
|------|---------|-------------------|-----------------------|------|
| GitHub風 | `#f6f8fa` | 1.06:1 | 17.64:1 | 最もサトル |
| Medium風 | `#f2f2f2` | 1.12:1 | 16.45:1 | やや認識しやすい |
| やや強め | `#eef1f5` | 1.13:1 | 16.57:1 | ブルーティント |
| 強め | `#e8ecf0` | 1.19:1 | 15.82:1 | 明確だが地味 |

> ライトグレー方式はページBGとのコントラストが最大でも1.19:1であり、ボーダー等の補助なしではコードブロックの境界が不明瞭になる。CodeFocusの「コードに焦点を当てる」コンセプトとは相反する。

### 4.3 コードブロックボタン背景の改善

現在、コードBG (`#1a2638`) とボタン背景 (`#1a2737`) の差がほぼない:

```
#1a2638 (L=0.01891) vs #1a2737 (L=0.01912)
コントラスト比: ~1.003:1 — 知覚不可能
```

改善案:

| ボタンBG候補 | コードBG `#1a2638` とのCR | 効果 |
|------------|--------------------------|------|
| `#243448` | 1.15:1 | わずかに区別可能 |
| `#2a3c52` | 1.24:1 | 知覚可能 |
| `#30445c` | 1.34:1 | 明確に区別 |

---

## 5. 改善案

以下、3つの案を提示する。いずれもCodeFocusの「暗いコードブロック」というアイデンティティを維持しつつ、問題点を改善する方向。

### 5.1 案A: 最小変更（背景のみオフホワイト + bg-light連動 + コードボタンBG改善）

**コンセプト**: 現在のデザインをほぼ維持し、`light-theme-accessibility-spec.md` の眩しさ軽減のみ対応。

| トークン | 現在 | 提案 | 変更理由 |
|----------|------|------|----------|
| `--background` | `#ffffff` | **`#fafafa`** | 純白を避け眩しさを軽減 |
| `--bg-light` | `#f5f5f5` | **`#efefef`** | 背景との階層差を維持 (1.10:1) |
| `--bg-code` | `#1a2638` | `#1a2638`（変更なし） | 暗いIDE風を維持 |
| `--bg-code-light` | `#1a2737` | **`#2a3c52`** | ボタン背景の視認性改善 |
| `--text-body` | `#08131a` | `#08131a`（変更なし） | 維持 |
| `--bg-semi-transparent` | `rgba(255,255,255,0.95)` | **`rgba(250,250,250,0.95)`** | 背景色と連動 |

**コントラスト検証**:

| 組み合わせ | 比率 | 判定 |
|-----------|------|------|
| bg `#fafafa` vs text `#08131a` | 17.99:1 | AAA OK ✅ |
| bg `#fafafa` vs code-bg `#1a2638` | 14.60:1 | AAA OK ✅ |
| bg `#fafafa` vs bg-light `#efefef` | 1.10:1 | サーフェス差: 知覚可能 ✅ |
| code-bg `#1a2638` vs code-text `#fff` | 15.24:1 | AAA OK ✅ |
| code-bg `#1a2638` vs btn-bg `#2a3c52` | 1.24:1 | ボタン区別: 改善 ✅ |

**利点**:
- 変更幅が最小。既存デザインへの影響がほぼない
- 純白の眩しさ問題のみ解消
- コードブロックボタンの視認性が改善

**懸念**:
- テキストの過剰コントラスト（17.99:1）は未解決
- 背景色の変化が微小で、ユーザーが改善を知覚できない可能性
- bg-light の変更が他のサーフェス要素（テーブルヘッダー、ボタンホバー等）に波及

---

### 5.2 案B: バランス調整（背景 + テキスト色 + コードボタンBGの総合調整）

**コンセプト**: 背景とテキスト色を同時に調整し、コントラスト過剰問題を解消。ダークモードの案B採用と同様の「バランス重視」アプローチ。

| トークン | 現在 | 提案 | 変更理由 |
|----------|------|------|----------|
| `--background` | `#ffffff` | **`#fafafa`** | 純白を避け眩しさを軽減 |
| `--bg-light` | `#f5f5f5` | **`#efefef`** | 背景との階層差を維持 |
| `--bg-code` | `#1a2638` | `#1a2638`（変更なし） | 暗いIDE風を維持 |
| `--bg-code-light` | `#1a2737` | **`#2a3c52`** | ボタン背景の視認性改善 |
| `--text-body` | `#08131a` | **`#1B1B1B`** | 過剰コントラストの緩和（spec推奨値） |
| `--bg-semi-transparent` | `rgba(255,255,255,0.95)` | **`rgba(250,250,250,0.95)`** | 背景色と連動 |
| `--bg-btn-hover` | `#f5f5f5` | **`#efefef`** | bg-lightと連動 |
| `--table-th-bg` | `#edf2f7` | **`#e6ecf2`** | 階層全体を連動 |

**コントラスト検証**:

| 組み合わせ | 比率 | 判定 |
|-----------|------|------|
| bg `#fafafa` vs text `#1B1B1B` | 16.54:1 | AAA OK ✅（適度に緩和） |
| bg `#fafafa` vs header `#333333` | 12.10:1 | AAA OK ✅ |
| bg `#fafafa` vs code-bg `#1a2638` | 14.60:1 | AAA OK ✅ |
| bg `#fafafa` vs bg-light `#efefef` | 1.10:1 | サーフェス差: 知覚可能 ✅ |
| code-bg `#1a2638` vs code-text `#fff` | 15.24:1 | AAA OK ✅ |
| code-bg `#1a2638` vs btn-bg `#2a3c52` | 1.24:1 | ボタン区別: 改善 ✅ |

**利点**:
- 最もバランスが取れたアプローチ
- テキストコントラストが 18.78:1 → 16.54:1 に収まり、ハレーション軽減
- `light-theme-accessibility-spec.md` の推奨 (`#FAFAFA` / `#1B1B1B`) にほぼ準拠
- コードブロックのIDE風デザインを完全に維持
- ダークモードの案B採用と設計思想が一貫

**懸念**:
- テキスト色の変更 (`#08131a` → `#1B1B1B`) は微小だが、既存テストのスクリーンショットに影響する可能性
- bg-light/table-th-bg 等の連動変更が必要（変更範囲がやや広い）
- テキスト色コントラスト 16.54:1 はまだ高め。より快適さを追求するなら `#242424`（14.47:1）も選択肢

---

### 5.3 案C: 現状維持（背景は純白のまま + コードボタンBGのみ改善）

**コンセプト**: 業界標準の純白背景を維持。コードブロックボタンの視認性のみ改善する最小変更。

| トークン | 現在 | 提案 | 変更理由 |
|----------|------|------|----------|
| `--background` | `#ffffff` | **`#ffffff`（変更なし）** | 業界標準準拠 |
| `--bg-light` | `#f5f5f5` | `#f5f5f5`（変更なし） | 維持 |
| `--bg-code` | `#1a2638` | `#1a2638`（変更なし） | 暗いIDE風を維持 |
| `--bg-code-light` | `#1a2737` | **`#2a3c52`** | ボタン背景の視認性改善 |
| `--text-body` | `#08131a` | `#08131a`（変更なし） | 維持 |

**コントラスト検証**:

| 組み合わせ | 比率 | 判定 |
|-----------|------|------|
| bg `#ffffff` vs text `#08131a` | 18.78:1 | AAA OK ✅（高すぎる問題は維持） |
| bg `#ffffff` vs code-bg `#1a2638` | 15.24:1 | AAA OK ✅ |
| bg `#ffffff` vs bg-light `#f5f5f5` | 1.09:1 | サーフェス差: 最低限 |
| code-bg `#1a2638` vs btn-bg `#2a3c52` | 1.24:1 | ボタン区別: 改善 ✅ |

**利点**:
- 変更が1箇所のみ。デザインへの影響が最小
- GitHub, VS Code, Zenn 等と同様の純白背景で業界標準に準拠
- テストへの影響がほぼない

**懸念**:
- `light-theme-accessibility-spec.md` の「純白を避ける」推奨を無視
- テキストの過剰コントラスト問題が未解決
- サーフェス階層の区別が困難な問題が未解決
- アクセシビリティ仕様との不整合が残る

---

## 6. 比較サマリー

| 評価軸 | 案A（最小変更） | 案B（バランス） | 案C（現状維持） |
|--------|----------------|----------------|----------------|
| 変更の大きさ | 小 | 中 | 最小 |
| 背景の純白問題 | ○ 解消 | ○ 解消 | ✕ 未解決 |
| テキストの過剰コントラスト | ✕ 未解決 | ○ 改善 | ✕ 未解決 |
| コードブロック視認性 | ○ 維持 (14.60:1) | ○ 維持 (14.60:1) | ○ 維持 (15.24:1) |
| コードボタン視認性 | ○ 改善 | ○ 改善 | ○ 改善 |
| サーフェス階層 | ○ 改善 (1.10:1) | ○ 改善 (1.10:1) | △ 現状維持 (1.09:1) |
| 読み疲れの軽減 | △ 部分的 | ○ 効果あり | ✕ なし |
| spec準拠度 | △ 部分的 | ◎ ほぼ完全 | ✕ 非準拠 |
| デザインの一貫性 | ○ 自然 | ○ 自然 | ○ 変化なし |
| テストへの影響 | 小 | 中 | 最小 |

---

## 7. 追加検討事項

### 7.1 コードブロックの設計方針（暗いIDE風 vs ライトグレー）

本検討で最も重要な設計判断は**コードブロック背景のアプローチを変更するかどうか**である。

**現在の「暗いIDE風」を維持すべき理由**:
1. テーマ名「CodeFocus」＝コードに焦点を当てるデザイン。暗いBGは最も効果的にコードを際立たせる
2. Zenn, Qiita と同じアプローチで、日本の技術ブログユーザーに馴染みがある
3. ページBGとのコントラスト 14〜15:1 は「ライトグレー方式」の 1.06〜1.19:1 と比較にならないほど強い
4. ダークモードのコードBGとは根本的に異なる設計思想であり、ライト/ダーク間の差別化にも貢献

**ライトグレーに変更すべき理由**:
1. GitHub, VS Code, JetBrains の主要IDE/サービスはライトグレー方式
2. ページ全体の明暗差が抑えられ、より「統一的で落ち着いた」印象になる
3. `light-theme-accessibility-spec.md` の推奨値 `#F6F8FA` はライトグレー方式

> **推奨判断**: 「暗いIDE風」を維持する。CodeFocusの最大の差別化要因であり、ライトモードでの視認性は問題ない。

### 7.2 半透明背景の連動

`--bg-semi-transparent` は背景画像が設定されている場合の半透明オーバーレイ。背景色を変更する場合、この値も連動して変更する必要がある。

```scss
// 案A/Bの場合
$light-background-semi-transparent: rgba(250, 250, 250, 0.95); // #fafafaベース
```

### 7.3 サーフェス階層の全体像

背景色の変更は他のサーフェス色にも影響する。変更時には以下の階層全体を一貫性を持って調整する必要がある。

```
最明                                                          最暗
ページ背景 → bg-light / btn-hover → table-th-bg → border-light → border → コードBG
 #fafafa       #efefef              #e6ecf2       #d6e3ed     #ddd    #1a2638
```

### 7.4 インラインコード背景の確認

インラインコード (`<code>`) の背景 `--bg-span` は現在 `#215aa012`（半透明の薄い青）。
- ページBGが `#ffffff` → `#fafafa` に変わっても、半透明のため自然に追従する
- 特段の変更は不要

### 7.5 リンク色の改善（同時検討推奨）

現在のリンク色 `#0f83fd` はWCAG AA不合格（3.69:1）。背景色の変更と同時に改善することを推奨。

| リンク色候補 | vs bg `#ffffff` | vs bg `#fafafa` | 出典 |
|------------|----------------|----------------|------|
| `#0f83fd`（現在） | 3.69:1 ❌ | 3.54:1 ❌ | — |
| `#0969da` (GitHub) | 4.62:1 ✅ | 4.43:1 △ | GitHub Primer blue-5 |
| `#0B57D0` (spec推奨) | 8.59:1 ✅ | 8.23:1 ✅ | light-theme-accessibility-spec推奨 |
| `#0656ac` (CodeFocus blue-300) | 8.15:1 ✅ | 7.81:1 ✅ | 既存変数 |

> NOTE: `#fafafa`背景の場合、`#0969da` がAA (4.5:1) を僅かに下回る (4.43:1) 点に注意。`#0B57D0` や `#0656ac` ならどちらのBGでもAA/AAAを確実に満たす。

---

## 8. 決定に向けた確認事項

1. **背景色をどうするか**: 案A/B (`#fafafa`) / 案C (`#ffffff` 維持) — 業界標準との整合 vs spec準拠のバランス
2. **テキスト色を同時に変更するか**: `#08131a` → `#1B1B1B` で微緩和するか
3. **コードブロックのアプローチ**: 暗いIDE風を維持するか（推奨: 維持）
4. **コードブロックボタンBG**: `#1a2737` → `#2a3c52` への改善を採用するか
5. **リンク色**: `#0f83fd` → `#0B57D0` または `#0656ac` への変更を同時に行うか
6. **bg-light等の連動変更**: 背景変更時にサーフェス階層全体を調整するか

---

## 9. 参考リンク

- [WCAG 2.2 SC 1.4.3 Contrast (Minimum)](https://www.w3.org/WAI/WCAG22/Understanding/contrast-minimum.html)
- [The problem with white backgrounds](https://accessbydesign.uk/the-problem-with-white-backgrounds/)
- [Colour contrast](https://accessibilityinnovations.com/blogs/colour-contrast/)
- [Material Design 3 Color System](https://m3.material.io/styles/color/system/how-the-system-works)
- [GitHub Primer Color Usage](https://primer.style/foundations/color/overview)
- [light-theme-accessibility-spec.md](light-theme-accessibility-spec.md) — 本プロジェクトのライトテーマアクセシビリティ仕様
- [dark-theme-color-review.md](dark-theme-color-review.md) — ダークテーマの色見直し検討（案B採用済み）
- [_variable.scss](../../scss/lib/_variable.scss) — 現在の色定義
