# テーマデザイン仕様

## 全体デザインコンセプト

* はてなブログのデザインテーマを作成します。
* レスポンシブデザインのテーマとして作成し、スマートフォン、タブレット、PCの各デバイスで適切に表示されるようにします。
* シングルカラムで構成します。
* zennのスタイルを参考にし、シンプルで読みやすいデザインを目指します。
* borderで囲む場合、角に丸みをつけます。丸みは要素によって異なります。
* どのページでも統一感のあるスタイルを持たせます(フォントや色、余白、ボーダーの丸みなど)。

## 記事ページのスタイル仕様

### 記事全体コンテンツ

* 記事全体コンテンツは画面の真ん中に配置します。

### 記事ヘッダー

* 記事ヘッダーは左寄せにし、左端揃えます。
* 記事ヘッダー下部に、記事本文との間に余白を設けます。
* 記事タイトルの下部に、作成日付と更新日付を表示します。
* 記事タイトルの下部の日付の下にカテゴリーを表示します。
* カテゴリは頭にハッシュ`#`をつけます。ハッシュの色はリンクを用い、カテゴリ自体は本文と同じ色、枠線は丸囲みで表示します。ボタン背景色はコンテンツ背景色と同色ですが、マウスホバーするとカテゴリーホバー用の色で表示します。
* カテゴリをあたかも記事エントリーの上にあるようにみせるため、タイトル/日付から縦の距離をとって記事に近く配置します。カテゴリは丸囲みのおかげで実際には記事と左端インデントがそろっていないのに統一感がでます。
* 記事ヘッダーと記事本文ブロック間の余白は、必要以上に大きくしないでください。

### 記事本文

* 記事本文は、記事タイトルと同サイズにします。
* 記事本文に目次が存在する場合があります。ユーザーによっては目次が存在しないこともあります。
  * 目次は「記事本文中の目次」と「ページ右上の目次ボタンで展開される目次」の2つがあります。
  * 「記事本文中の目次」と「ページ右上の目次ボタンで展開される目次」は同様の目次表示ですが、表示領域や位置が異なるためCSSスタイルを分けて制御しやすくします。
* 記事本文は左寄せにします。

#### 記事本文中の目次

* 記事本文中の目次は、`<ul class="table-of-contents">`でスタイル制御します。
* 目次が記事本文中に存在する場合、記事を開いた段階ではトグル状態で、目次をクリックすると目次コンテンツを表示します。
* 目次が記事本文中に存在しない場合、目次のhtml要素は描画されません。

#### ページ右上の目次ボタンで展開される目次

* ページ右上の目次ボタンで展開される目次は、はてなブログが提供しないカスタマイズ要素です。
* 目次ボタンはcss`.toc-button`クラス、目次ボタン中の目次はcss`.floating-toc`でスタイル制御します。
* 記事ページの右上に「目次」ボタンを表示し、ボタンをクリックすると目次コンテンツを表示します。目次はページの右上に固定され、スクロールしても常に表示されます。
* 「目次」ボタンの見た目は、閉じているときは「目次^」、開いているときは「目次v」のように表示します(^やvは文字ではなくいい感じのアイコン置き換えて開く/閉じるを表現します)。ボタンの背景色はページ背景と同色、ボタンの周りに薄い灰色の枠線をつけます。目次ボタンを開いた時、画面外をクリックしたり目次内のリンクをクリックしてもボタン状態をリセット不要です。
* JavaScriptで3つの機能を提供します:
  * 記事本文中の目次要素を拾って、目次ボタン及び目次をDOMに追加します。
  * 現在スクロールで表示しているセクションに該当する目次項目の青丸マーカーを濃い色で表示します。
  * 表示された目次コンテンツの上に「ページトップへ」ボタンを設定。ボタンをクリックすると、ページの一番上にスクロールします。

### カスタマイズフッターの関連記事

* 関連記事が複数ある場合、関連記事を2列で表示し、左から右の順に並べます。
* 個別の関連記事は左にサムネイル、回り込んでサムネイルの右にタイトルと日付を描画します。記事冒頭部は表示しない。日付はタイトルの下に表示します。配置の調整がしやすいようにグリッドレイアウトを使用します。

### コメント

* コメントと関連記事の間に薄い灰色の線を引きます。
* コメントはzennのDiscussionスタイルのように表示します。
* `comment-box`の一番上に、`&::before`を使って`Discussion`というタイトル文字列を大きさ1.2em、`font-weight: bold`で表示します。文字列は左寄せにします。
* コメントが複数ある場合、コメントの間にdottedな薄い灰色の線を引きます。
* 個別のコメントは左にコメントユーザーのアイコン(liで描画)、回り込んでアイコンの右にユーザー名、コメント本文、投稿日付を描画します。上段にユーザー名、投稿日付の順に表示し、コメント本文を下段に表示します。配置の調整がしやすいようにグリッドレイアウトを使用します。
* コメントユーザー名は黒色、投稿日付は薄い色、コメント本文は記事本文と同色で表示します。
* コメントボタンは別途下にスタイルを示します。

#### コメントボタン

* コメントのaタグにははてなブログが自動的に文字列を仕込みますが表示させず、代わりに吹き出しSVGを背景として表示します。
* はてなブログが仕込む文字列は`text-indent: -9999px;`で画面外に飛ばします。
* 吹き出しアイコンは大きさ40px、`background-size: 100%`にします。
* 吹き出しアイコンは円形吹き出し、灰色に設定、背景色なし、ホバー時も変化しない。

### ページャー

* ページャーと記事の間に、Noteのような薄い灰色の線を引きます。
* ページャーとフッターの間に、Noteのような薄い灰色の線を引きます。
* ページャーは、センター寄せにします。
* 前の記事へのリンク、次の記事へのリンクはPC/スマートフォンともに横並びに配置します。
* 前の記事へのリンク、次の記事へのリンクの間隔を開けますが、必要以上に大きくしない。
* 前の記事や次の記事は、ボタンで囲むのではなくNoteのように文字列だけにします。
* 前の記事や次の記事の`<<`や`>>`を消す。代わりに、svg画像の「svg-page-prev」「svg-page-next」を表示します。スマートフォン版では長さを稼ぐためsvg画像は表示しない。

## アーカイブページのスタイル仕様

アーカイブページは、記事ページと同じスタイルを一部利用しますがレイアウト領域の違いがあります。アーカイブページ用のスタイルは、`.page-archive`クラスを用いて制御します。

### アーカイブ全体コンテンツ

* アーカイブ全体コンテンツは画面の真ん中に配置します。
* 個別のアーカイブ記事を、グリッドレイアウトを使用して表示します。デスクトップでは3列、スマートフォンでは1列で表示します。

### 個別のアーカイブ記事

* アーカイブ記事は、行方向のフレックスボックスとして表示されます。スマートフォン版では縦並びに切り替わります。
* アーカイブ記事は、サムネイル、記事タイトル、作成日付、カテゴリー、ソーシャルボタンを表示します。記事冒頭部分は表示しない。
* サムネイルはPC表示時は記事幅に合わせて表示し、高さは180pxに固定します。
* カテゴリーはサムネイルに重ねて、サムネイルの左上に配置します。PCとスマホで異なるスタイルを適用します。
* 記事タイトルはリンク可能で、ホバー時に色を変化させ、アンダーラインはなし。

## ブログフッターのスタイル仕様

ブログフッターはページを問わず、同じスタイルです。

* ブログパーツのタイトルはどのパーツでも縦軸を揃えてください。
* `.hatena-urllist li a`で表現されるリストは、通常テキスト色とします。リンク色を用いない。通常時、ホバー時ともにアンダーラインはつけない。
* `.hatena-urllist .urllist-date-link a`の日付リンクは、薄い灰色とします。ホバー時にアンダーラインをつけます。
* 太字にしたリンク可能な要素は、通常時、ホバー時ともにアンダーラインはなし。
* カテゴリーの各要素をタグクラウドのスタイルで表示します。
